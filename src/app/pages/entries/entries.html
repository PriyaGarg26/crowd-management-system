<div class="entries-card">
<table mat-table [dataSource]="dataSource" class="entries-table">
<ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef>Name</th>
    <td mat-cell *matCellDef="let row">
        <div class="name-cell">
            <span class="avatar entityIconCls">
                {{ getInitials(row.personName) }}
            </span>
            <span class="person-name">{{ row.personName }}</span>
        </div>
    </td>
  </ng-container>
  <ng-container matColumnDef="sex">
    <th mat-header-cell *matHeaderCellDef>Sex</th>
    <td mat-cell *matCellDef="let row">
      {{ row.gender |titlecase }}
    </td>
  </ng-container>

  <ng-container matColumnDef="entry">
    <th mat-header-cell *matHeaderCellDef>Entry</th>
    <td mat-cell *matCellDef="let row">
      {{ row.entryUtc ? (row.entryUtc | date:'hh:mm a') : '--' }}
    </td>
  </ng-container>


  <ng-container matColumnDef="exit">
    <th mat-header-cell *matHeaderCellDef>Exit</th>
    <td mat-cell *matCellDef="let row">
      {{ row.exitUtc ? (row.exitUtc | date:'hh:mm a') : '--' }}
    </td>
  </ng-container>


  <ng-container matColumnDef="dwellTime">
    <th mat-header-cell *matHeaderCellDef>Dwell Time</th>
    <td mat-cell *matCellDef="let row">
      <span [class.in]="!row.exitUtc" [class.out]="row.exitUtc">
        {{ formatDwellTime(row.dwellMinutes )}}
      </span>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

</table>
</div>
<div class="custom-paginator" *ngIf="totalCount > 1">


  <button
    class="nav-btn"
    [disabled]="pageIndex === 0"
    (click)="goToPage(pageIndex - 1)">
    ‹
  </button>

  
  <button
    *ngIf="visiblePages[0] > 1"
    class="page-btn"
    (click)="goToPage(0)">
    1
  </button>

  <span class="ellipsis" *ngIf="showLeadingEllipsis">…</span>


  <button
    *ngFor="let page of visiblePages"
    class="page-btn"
    [class.active]="pageIndex + 1 === page"
    (click)="goToPage(page - 1)">
    {{ page }}
  </button>

  <span class="ellipsis" *ngIf="showTrailingEllipsis">…</span>


  <button
    *ngIf="visiblePages[visiblePages.length - 1] < totalCount"
    class="page-btn"
    (click)="goToPage(totalCount - 1)">
    {{ totalCount }}
  </button>


  <button
    class="nav-btn"
    [disabled]="pageIndex === totalCount - 1"
    (click)="goToPage(pageIndex + 1)">
    ›
  </button>

</div>


